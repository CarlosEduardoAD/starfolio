---
title: 'Frameworks web e como alguns te iludem'
pubDate: 2023-03-29
description: 'Uma guerra de antas narrado por uma anta'
author: 'Karl'
tags: ["frameworks", "desevolvimento web"]
layout: ../../layouts/MarkdownLayout.astro

---

# Frameworks web e como alguns te iludem

## Uma guerra de antas narrado por uma anta

TL;DR: Tem muito mais coisa do que simplesmente escolher um bom framework, é necessário escolher a arquitetura de software ideal para o que você precisa. Claro, não se usa uma bazuca para matar uma formiga, assim como você não precisa de uma estrutura que escale horizontalmente o seu blog de 2004 que você abandonou, ou um banco de dados indexado para o seu portfólio que você aprendeu a fazer com tutorial de internet. Brincadeiras à parte, existem boas práticas para cada tipo de projeto, basta focar em resolver/evitar o problema na sua aplicação.

### Parte 1, certeza que o pythaon ?

Não é novidade que Python é uma boa ferramenta para se criar praticamente tudo o que se pensar, mas em contrapartida é meio lerda, mas tem o seu jeitinho de resolver as coisas, (boas práticas, wrappers de C, Cython, PyPy, asyncio etc…), geralmente não se deve usar python para coisas performáticas e quando se precisa simplesmente se usa uma api ou lib derivada de C (perdão se isso soar muito como coisa de fanboy). O ponto em questão é quando falamos sobre performance Web, onde de acordo com Benchmarks, Python era realmente lerdo, com Django e Flask nas piores posições.

Mas então surgiu um trequinho chamado FastAPI, um framework para construção de Api’s REST, aparentemente o negócio estourou e muita gente começou a utilizar (55k de estrelas), muitos utilizando principalmente para criar apis para áreas como machine learning e i.a, o que faz sentido até porque são areas onde o python atua e isso ajuda a criar um ecossistema mais centralizado e mais fácil de se utilizar. Mas é claro que ele iria ser utilizado para aplicações web e realizar coisas como Crud, Autenticação, aplicações mais complexas com websocket e entre outros, até aí ok nada de especial novamente, o ponto de eu estar citando ele aqui é outro motivo diferente, e se refere ao seu marketing, pois ele pelo criador é dito como **um framework python com performance “pau a pau” com o Node JS e Golang…**

Se você quer a resposta rápida, sim, de fato ele **pode** ter uma performance pau a pau com as linguagens citadas acima (eu sei que se refere a frameworks e tal mas entendam que estou generalizando), mas calma que essa “velocidade” tem alguns poréms.

Depois de uma vasculhada em vários Reddit’s e também em uma issue do github (link: ) comecei a entender melhor algumas coisas e também a compreender a frustação da comunidade tanto com o framework tanto com os benchmarks

Primeiro: O framework é rápido **quando se utiliza uma seleta “correta” de libs** (Ex: asyncpg para base de dados e ujson para operações com JSON) e podem haver ganhos de performance se você escolher não utilizar uma ORM (nesse caso escrever as queries do postgresql na “mão” mesmo)

Segundo: O framework é rápido **quando o objetivo da aplicação é lidar com interações com bases de dados**, se começarmos a falar sobre trabalhos com texto e serialização de JSON, ele perde de lavada para outros frameworks.

Essa histórinha toda que eu estava acompanhando e a minha jornada para encontrar um framework em Golang de qualidade me levaram a escrever isso (veja o **ps-1**)

### Parte 2, a busca por relampago marquinhos + benchmarks ??????

Precisei reescrever um serviço que gerava uma planilha excel por que ele estava praticamente comendo todo o desempenho de uma aplicação, e na equipe em que trabalho resolvemos utilizar Go mesmo por causa da adoção que ele estava ganhando e por ser rapidinho mesmo, nisso começou a minha grande busca por frameworks para criação de apis rest, acabei esbarrando em Fiber, Gin Gonic e Echo, de forma bem resumida

Fiber: É muito rápido (tipo MUITO mesmo), mas escrito em cima de um módulo de http que não é o padrão do Golang, e não consegue interagir com o mesmo.

Gin Gonic: É a meiuca entre os Fiber e Echo, é bem rápido também

Echo: O mais lerdinho dos três mas já sai direto da caixa com http 2.0

Tendo em mente que eu precisava de bastante performance e que a API fosse rápida, acabei preferindo mesmo assim escolher o Gin acima de Fiber, e eu vou explicar depois.

Diante dessa busca do relampago marquinhos acabei óbvio esbarrando no Fastapi, e quando fui ler um artigo no github sobre a frustração de um usuário com a performance dele (link: ) acabei interagindo com alguns benchmarks que foram realizados, só tinha um problema, eles estavam utilizando como parâmetro para julgar a velocidade de um framework (quantas requisições ele consegue segurar e o quanto ele demora para responder elas) com base em um app que retornava um “Hello world” e nada mais. Sem querer ser rude, mas querer julgar se um framework é rápido ou performático a partir de uma aplicação assim, é tentar decidir qual artista do século com base em um desenho de círculo que cada um fez. De fato vários tiveram a mesma opinião que eu, é loucura julgar a qualidade de um framework a partir de uma aplicação que literalmente mostra “hello world”, e este é um dos argumentos que pessoas da comunidade do FastAPI demonstram, de que ele teria uma velocidade tão boa quanto a de Node e Golang quando utilizado em projetos grandes. Enfim, diante disso, Python e Node ficavam brigando enquanto geralmente Golang se saía na frente, Python se sobresaía em interações com banco de dados e Golang com manipulação de dados, node no máximo acima de Python, raramente abaixo de Golang. (veja **_ps-2**)

### Parte 3, do you really gotta go fésti ?

Vou ser direto ao ponto com 5 itens

*1* > Não se iluda, não importa que frameworks (back-end ou fullstack geralmente) suportem mil milhões de requisições e consigam devolver em milisegundos (lembra que eu falei do fiber ?), tudo depende do contexto da aplicação e como ela trabalha os dados que recebe, São dados que são apenas texto ? Use linguagem x com framework a. JSON ? Use linguagem z com framework b, Machine Learning ? Banco de Dados ? Streaming ? Big Data ? e por aí vai… Não se aprende Ruby on Rails ou express, se aprende MVC, batteries included, Arquitetura de microserviços e por aí vai, o resto é questão de aprender a utilização e a implementação correta da linguagem e/ou ferramenta (Não to dizendo que existem frameworks e linguagens que só prestam para uma função (ex: python, go, js, ruby, java, rust, elixir e etc etc etc), e não tem problema também ter uma linguagem favorita ou framework favorito, às vezes é bom focar no que você mais gosta e mais se identifica e fazer direito do que tentar aprender tudo para no fim fazer nada, só não pode deixar virar fanatismo ao ponto de defender com garras e dentes esperando que um dia o seu framework e/ou linguagem perfeito(a) vá criar asas e te levar aonde você quiser)

*2* > Se possível, pense YAGNI (You aren’t gonna need it), que nem eu brinquei lá em cima, você provavelmente vai perder muito tempo se tentar colocar as boas práticas e aplicar a arquitetura de software de um produto SaaS ou de uma empresa gigante como Google ou Netflix em um site/aplicação que chama dois endpoints de api e mal tem interações no website. Com certeza é muito legal aprender coisas mais avançadas, mas mais legal ainda é saber **quando** utilizar elas corretamente. Pense em frameworks de front-end modernos, precisa de um blog simpleszinho mas quer um pouco de interatividade assim como os frameworks modernos ? **Astro, Eleventy, Hugo** são exemplos de soluções. Um site que você quer que tenha o look and feel de um app e que precisa se conectar com apis ? **SPAS com React, Vue, Svelte** são só alguns dos vários exemplos, precisa de um pouco mais de performance e SSR ? **Next JS, Nuxt, SvelteKit** e outros vários também ajudam, se você tentar dar uma olhada mais a fundo, vai perceber que às vezes é demais usar Next JS para um blog, e de menos Astro para uma aplicação como um E-Commerce por exemplo. Usando também o Back-end como exemplo, precisa de uma api com 2 ou 3 rotas que nem fecha um CRUD ? Qualquer framework estilo Sinatra (Ruby), Express (JS) ou Flask (Python) serve, Precisa de um fullstack completo que não precise necessariamente de um framework front-end externo ? Ruby On Rails, Laravel, Django, Spring boot etc… Precisa de frameworks para microserviços REST, gRPC, GraphQL ? Express, FastApi, Fastify, Gin, Fiber, Go e por aí vai… OBS: Falam muito bem de Phoenix da linguagem elixir, mas sinceramente não sei muito bem onde ele se enquadraria. (veja \***\*ps-3)\*\***

**3** > Não adianta culpar a linguagem e/ou framework, usar um martelo para pregar um parafuso não te concede muito o direito de reclamar depois quando ver os resultados kk, quando falamos de Web, na maioria das vezes (apenas se a tecnologia for defasada ou simplesmente a versão vanilla não ser capaz de lidar com aplicações do mundo real) linguagens e opções de frameworks (mesmo caso, só é deixado de lado caso defasado) basicamente dependem de contexto da aplicação e interesse do programador, o que realmente vai influenciar se ela vai ser boa ou não é como o **programador** vai **implementar** ela. Uma aplicação grande não vive só de frameworks moderninhos como os citados acima, vai muito mais além disso, um banco de dados bem modelado, a escolha de uma stack inteligente (Essa stack é prática ? Serve bem ao objetivo do projeto ? Ela tem um bom suporte ?) e em geral uma arquitetura inteligente vão implacar MUITO mais do que simplesmente utilizar um framework que aguenta mais requisições e é mais “rapidinho” do que outro, isso também vale para linguagens na maioria dos casos, e daí temos a questão de **boas práticas**, às vezes escolher um framework front-end com uma comunidade mais abrangente e um ecossistema mais maduro, se não for o ideal, escolher o meta-framework dele (react ⇒ nextjs, vue ⇒ nuxt, svelte ⇒ sveltekit), escolher como ele vai se comunicar com back-end (rest ? gRPC ? graphql ?), entender qual framework back-end escolher (seguindo parâmetros semelhantes aos dos front-end), entender qual SGDB utilizar (SQL ? NoSQL ?, PostegreSQL ? MySQL ? MongoDB ?), e é claro, como escalar essa aplicação (só joga em um IaaS ? CI/CD ? Docker ? Kubernets ? Escalonamento horizontal ou só vertical ?) e como melhorar a usabilidade dele (Load balancer ? CDN’S ? Cache ? Full Text ? Redis ?, Kafka ?, Cloudflare ? Elastic Search ? ), confesso que não sei metade das tecnologias que estão aqui, mas espero um dia entender o quão úteis elas são em seus cenários, arquitetura do back-end (ou do full stack dependendo da escolha) ? DDD e Solid ? Testes automatizados ? Só os unitários ou Todos ? Eu creio que com essas perguntas vai dar para saber como arquitetar bem um software, meu, dependendo alguém vai usar a lista inteira ou simplesmente cortar todo o back-end por usar Firebase ou supabase por exemplo (Pocketbase é legal mas ele é mais para aplicações médias pelo o que eu mal entendo (somente escalonamento vertical, sqlite\* e tal).

*NÃO ESTOU DIZENDO QUE É RUIM SÓ DIGO QUE EXISTEM ALGUMAS TECNOLOGIAS QUE TALVEZ SEJAM MELHORES PARA DETERMINADOS CONTEXTOS*  .

**4** > Entenda que a coisa pode mudar de uma hora para outra, para os mais modernos, usar o create-react-app já não é mais o ideal e o verdadeiro ideal para se criar e “bundlear” aplicações react é utilizando a ferramenta Vite com o esbuild, mudou ? Com certeza, mas mudou para **melhor,**e agora é muito mais rápido e fácil configurar um bundler para subir aplicações React (e ainda outras), essa história se aplica mais ou menos aos frameworks e tecnologias em geral, eles vão ficando obsoletos com o tempo como por exemplo, Angular JS (não confunda com o novo Angular), Backbone JS, e arrisco ainda dizer o XAMPP, mas vieram outras tecnologias que substituíram, e nem por isso os bons programadores deixaram de ser bons por que a tecnologia mudou. Como eu disse, você não aprende Python, Go, Java etc. Você aprende **programação.** Você não aprende Express, Gin, FastAPI, você aprende **microframeworks e como utilizar eles em uma arquitetura de microsserviços**, e claro, por aí vai, se você focar em aprender a como programar e não com o quê programar, com certeza vai ser mais fácil

**5** > Calma, não to aqui pra te tirar de burro, nem tenho moral na verdade, tendo em mente que sou programador júnior, mas só queriar jogar em um textão um brainstorm que eu tive, e se você se assustou com o que eu disse, relaxa, eu creio que você está se esforçando para ir no caminho certo e está sim na direção para se tornar um bom programador, é basicamente o processo de estudar, colocar em prática e aprender com os resultados, claro, precisa-se ter disciplina, mas não exija e nem tente fazer tudo demais, tudo tem seu tempo, e quando souber, você vai saber o que fazer.

Obrigado por ter dado seu tempo para esse artigo ruim, bons lucianos e bons faustões a todos.

----------------------------------------------------------------------------------------------------------------------

*Meus pontos de vista e ou besteiras que eu falo sobre a situação (posso estar errado), não leia se não quiser:*

***ps-1 :*** Não tem problema um framework ou uma tech se comportar melhor com uma determinada stack ou simplesmente ter uma opinião de com quais tecnologias ela deveria interagir, ue, Ruby on Rails e Redwood (é tipo um ruby on rails com react e remix) são assim teoricamente, mas o que pega é que em nenhum momento o criador fala sobre isso, ele apenas fala que o framework é tão rápido quanto as outras linguagens e/ou frameworks concorrentes, ou seja, de certa forma é meio zueira da parte dele, e não qualquer um (se é que VAI ter alguém) que tem que saber que fastapi se usa dessa forma, uma lib específica para um banco de dados específico, utilizando uma lib específica de json e claro, sem ORM, isso prejudica de certa forma, pois teoricamente a parte de banco de dados não é opiniada (diferente da de servidor wsgi e tipagem, link: ), então se a pessoa usar mysql ou mongo db ela vai ter que sair prejudicada, ? Não vai ter a velocidade que foi falada ? Não teria o framework que ser “agnóstico” em relação à isso ? Ou pelo menos ser honesto e falar, ó, é rápido mas fica mais rápido e ainda melhor se você fizer assim assim e assado (O fiber faz isso, O FIBER, e nem necessidade disso, link: )

***ps-2 :*** Na minha opinião uma das principais razões de se não poder confiar muito em benchmarks, eu acho que o que REALMENTE vale é a execução do framework em um caso de uso REAL.

***ps-3 :*** Sim, eu sei que dá para criar apis rest tão boas quanto as de express e gin utilizando frameworks full stack como os propriamente ditos Ruby on Rails, Django com o DRF, Spring Boot e talz, só deixei daquele jeito para ficar mais fácil de entender meu ponto. (Teoricamente é até mais fácil pq em frameworks assim já tem até orm embutido, mas isso é história para outro dia)
